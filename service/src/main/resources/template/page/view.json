{
  "title": "Страница просмотра",
  "route": "/view",
  "layout": {
    "name": "layout-simple",
    "blocks": [
      {
        "name": "main",
        "components": [
          {
            "selector": "sdi-page-header",
            "showBack": true,
            "name": "VDKAppealsViewHeader",
            "dynamicActions": {
              "api": {
                "url": "/api/v1/vdk/appeals/actions/{id}",
                "method": "GET"
              }
            },
            "actions": [],
            "title": "Заявка на получение полного доступа"
          },
          {
            "selector": "sdi-modal",
            "name": "VDKAppealsInvite",
            "actions": [
              {
                "name": "submit",
                "title": "Уведомить клиента",
                "appearance": "primary",
                "validate": true,
                "componentName": "VDKAppealsInviteForm"
              }
            ],
            "isHidden": true,
            "title": "Назначение встречи",
            "layout": {
              "name": "layout-simple",
              "blocks": [
                {
                  "name": "main",
                  "components": [
                    {
                      "selector": "sdi-form",
                      "name": "VDKAppealsInviteForm",
                      "actions": [
                        {
                          "name": "save",
                          "api": {
                            "url": "/api/v1/vdk/appeals/{id}/action/INVITE",
                            "method": "POST"
                          },
                          "postAction": {
                            "route": {
                              "url": "/vdk/appeals"
                            }
                          }
                        }
                      ],
                      "fields": [
                        {
                          "name": "meetingDate",
                          "title": "Дата приёма",
                          "type": "date",
                          "validators": [
                            {
                              "type": "required"
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          },
          {
            "selector": "sdi-modal",
            "name": "VDKAppealsPerform",
            "actions": [
              {
                "name": "submit",
                "title": "Выдать доступ",
                "appearance": "primary",
                "validate": true,
                "componentName": "VDKAppealsPerformForm"
              }
            ],
            "isHidden": true,
            "title": "Предоставление полного доступа",
            "layout": {
              "name": "layout-simple",
              "blocks": [
                {
                  "name": "main",
                  "components": [
                    {
                      "selector": "sdi-form",
                      "name": "VDKAppealsPerformForm",
                      "actions": [
                        {
                          "name": "save",
                          "api": {
                            "url": "/api/v1/vdk/appeals/{id}/action/PERFORM",
                            "method": "POST"
                          },
                          "postAction": {
                            "route": {
                              "url": "/vdk/appeals"
                            }
                          }
                        }
                      ],
                      "fields": [
                        {
                          "name": "externalUserId",
                          "title": "Идентификатор пользователя в АСУ ПТП",
                          "type": "string",
                          "validators": [
                            {
                              "type": "required"
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          },
          {
            "selector": "sdi-content",
            "title": "Информация о заявке"
          },
          {
            "selector": "sdi-vertical-table",
            "name": "VDKAppealsViewVerticalTable",
            "api": {
              "method": "GET",
              "url": "/api/v1/vdk/appeals/{id}"
            },
            "columns": [
              {
                "name": "number",
                "title": "Номер обращения",
                "type": "string"
              },
              {
                "name": "status",
                "title": "Статус",
                "type": "string"
              },
              {
                "name": "createDate",
                "title": "Дата создания",
                "type": "string"
              },
              {
                "name": "adminName",
                "title": "ФИО (mail) исполнителя",
                "type": "string"
              },
              {
                "name": "meetingDate",
                "title": "Дата назначенной встречи",
                "type": "string"
              },
              {
                "name": "externalUserId",
                "title": "Идентификатор пользователя в АСУ ПТП",
                "type": "string"
              }
            ]
          },
          {
            "selector": "sdi-content",
            "title": "Информация о клиенте"
          },
          {
            "selector": "sdi-vertical-table",
            "name": "VDKAppealsUserViewVerticalTable",
            "api": {
              "method": "GET",
              "url": "/api/v1/vdk/appeals/{id}"
            },
            "columns": [
              {
                "name": "fullName",
                "title": "ФИО (mail)",
                "type": "string"
              },
              {
                "name": "phone",
                "title": "Телефон",
                "type": "phone"
              },
              {
                "name": "email",
                "title": "E-mail",
                "type": "email"
              },
              {
                "name": "type",
                "title": "Тип лица",
                "type": "string"
              },
              {
                "name": "company",
                "title": "Компания",
                "type": "string"
              },
              {
                "name": "inn",
                "title": "ИНН",
                "type": "string"
              },
              {
                "name": "kpp",
                "title": "КПП",
                "type": "string"
              },
              {
                "name": "snils",
                "title": "Снилс",
                "type": "string"
              },
              {
                "name": "actualAdres",
                "title": "Фактический адрес",
                "type": "string"
              },
              {
                "name": "legalAdres",
                "title": "Юридический адрес",
                "type": "string"
              },
              {
                "name": "mailingAdres",
                "title": "Почтовый адрес",
                "type": "string"
              }
            ]
          }
        ]
      }
    ]
  }
}